{"version":3,"sources":["webpack:///./src/views/sections/Portfolio.vue?d853","webpack:///src/views/sections/Portfolio.vue","webpack:///./src/views/sections/Portfolio.vue?095a","webpack:///./src/views/sections/Portfolio.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","minHeight","class","$vuetify","breakpoint","smAndDown","on","handleChipSelection","model","value","callback","$$v","chip_selection","expression","_l","tag","key","handleSingleChip","_v","_s","text","get_portfolio_list","handleAutocomplete","directives","name","rawName","post","index","image_url","title","description","id","$event","$redrawVueMasonry","staticRenderFns","component","VAutocomplete","VCard","VCardText","VChip","VChipGroup","VCol","VContainer","VImg","VResponsive","VRow"],"mappings":"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","file":"js/chunk-2d0c027a.d89f56b9.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{attrs:{\"id\":\"portfolio\"}},[_c('v-img',{staticClass:\"white--text\",attrs:{\"min-height\":_vm.minHeight,\"src\":require('@/assets/portfolio.png'),\"gradient\":\"to right, rgba(5, 11, 31, .8), rgba(5, 11, 31, .8)\"}},[_c('v-container',{staticClass:\"px-4 py-12\",attrs:{\"fluid\":\"\"}},[_c('v-responsive',{staticClass:\"d-flex align-center\",attrs:{\"height\":\"100%\",\"width\":\"100%\"}},[_c('div',{staticClass:\"d-flex flex-wrap\",class:_vm.$vuetify.breakpoint.smAndDown ? 'flex-column align-start' : 'align-center'},[_c('v-row',{attrs:{\"justify\":\"space-around\"}},[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"12\",\"lg\":\"12\"}},[_c('v-chip-group',{attrs:{\"column\":\"\",\"multiple\":\"\",\"active-class\":\"primary--text\"},on:{\"change\":_vm.handleChipSelection},model:{value:(_vm.chip_selection),callback:function ($$v) {_vm.chip_selection=$$v},expression:\"chip_selection\"}},_vm._l((_vm.tags),function(tag){return _c('v-chip',{key:tag.key,on:{\"click\":_vm.handleSingleChip}},[_vm._v(\" \"+_vm._s(tag.text)+\" \")])}),1),_c('v-card',{staticClass:\"d-flex flex-wrap pl-0 pr-0\",attrs:{\"color\":\"transparent\",\"flat\":\"\",\"tile\":\"\"}},[_c('v-card-text',[_c('v-autocomplete',{attrs:{\"items\":_vm.get_portfolio_list,\"color\":\"white\",\"hide-no-data\":\"\",\"hide-selected\":\"\",\"item-text\":\"title\",\"item-value\":\"description\",\"label\":\"업체명 찾기\",\"placeholder\":\"찾으시는 업체명을 입력해주세요\",\"prepend-icon\":\"mdi-database-search\",\"clear-icon\":\"\",\"clearable\":\"\",\"return-object\":\"\"},on:{\"change\":_vm.handleAutocomplete},model:{value:(_vm.model),callback:function ($$v) {_vm.model=$$v},expression:\"model\"}})],1),_c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-row',{directives:[{name:\"masonry\",rawName:\"v-masonry\",value:(\"containerID\"),expression:\"`containerID`\"}],attrs:{\"align\":\"center\",\"justify\":\"center\",\"transition-duration\":\"0.3s\",\"item-selector\":\".item\"}},_vm._l((_vm.posts),function(post,index){return _c('v-col',{directives:[{name:\"masonry-tile\",rawName:\"v-masonry-tile\"}],key:index,staticClass:\"item\",attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"4\",\"lg\":\"3\",\"xl\":\"2\"}},[_c('base-business-card',{attrs:{\"image_url\":post.image_url,\"width\":200,\"title\":post.title,\"content\":post.description,\"target\":'/portfolio/' + post.id},on:{\"loaded\":function($event){return _vm.$redrawVueMasonry('containerID')}}})],1)}),1)],1)],1)],1)],1)],1)])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <section id=\"portfolio\">\n    <v-img\n      :min-height=\"minHeight\"\n      :src=\"require('@/assets/portfolio.png')\"\n      class=\"white--text\"\n      gradient=\"to right, rgba(5, 11, 31, .8), rgba(5, 11, 31, .8)\"\n    >\n      <v-container\n        class=\"px-4 py-12\"\n        fluid\n      >\n        <v-responsive\n          class=\"d-flex align-center\"\n          height=\"100%\"\n          width=\"100%\"\n        >\n          <div\n            :class=\"$vuetify.breakpoint.smAndDown ? 'flex-column align-start' : 'align-center'\"\n            class=\"d-flex flex-wrap\"\n          >\n            <v-row justify=\"space-around\">\n              <v-col\n                cols=\"12\"\n                sm=\"12\"\n                md=\"12\"\n                lg=\"12\"\n              >\n                <v-chip-group\n                  v-model=\"chip_selection\"\n                  column\n                  multiple\n                  active-class=\"primary--text\"\n                  @change=\"handleChipSelection\"\n                >\n                  <v-chip\n                    v-for=\"tag in tags\"\n                    @click=\"handleSingleChip\"\n                    :key=\"tag.key\"\n                  >\n                    {{ tag.text }}\n                  </v-chip>\n                </v-chip-group>\n                <!-- </v-sheet> -->\n                <v-card\n                  class=\"d-flex flex-wrap pl-0 pr-0\"\n                  color=\"transparent\"\n                  flat\n                  tile\n                >\n                  <v-card-text>\n                    <v-autocomplete\n                      v-model=\"model\"\n                      :items=\"get_portfolio_list\"\n                      color=\"white\"\n                      hide-no-data\n                      hide-selected\n                      item-text=\"title\"\n                      item-value=\"description\"\n                      label=\"업체명 찾기\"\n                      placeholder=\"찾으시는 업체명을 입력해주세요\"\n                      prepend-icon=\"mdi-database-search\"\n                      clear-icon\n                      clearable\n                      @change=\"handleAutocomplete\"\n                      return-object\n                    ></v-autocomplete>\n                    <!-- <v-autocomplete\n                      v-model=\"model\"\n                      :items=\"items\"\n                      :loading=\"isLoading\"\n                      :search-input.sync=\"search\"\n                      color=\"white\"\n                      hide-no-data\n                      hide-selected\n                      item-text=\"Description\"\n                      item-value=\"API\"\n                      label=\"업체명 찾기\"\n                      placeholder=\"찾으시는 업체명을 입력해주세요\"\n                      prepend-icon=\"mdi-database-search\"\n                      return-object\n                    ></v-autocomplete> -->\n                  </v-card-text>\n                  <v-container fluid>\n                    <v-row\n                      v-masonry=\"`containerID`\"\n                      :align=\"`center`\"\n                      :justify=\"`center`\"\n                      transition-duration=\"0.3s\"\n                      item-selector=\".item\"\n                    >\n                      <v-col v-masonry-tile\n                        class=\"item\"\n                        cols=\"12\"\n                        v-for=\"(post, index) in posts\"\n                        sm=\"6\"\n                        md=\"4\"\n                        lg=\"3\"\n                        xl=\"2\"\n                        :key=\"index\"\n                      >\n                        <!-- <v-card class=\"ma-auto\" style=\"width: 18rem;\">\n                          <div class=\"card-body\">\n                            <v-img\n                              class=\"card-img-top\"\n                              :src=\"post.src\"\n                              alt=\"Card image cap\"\n                              @load=\"$redrawVueMasonry('containerID')\"\n                            >\n                            </v-img>\n                            <h5 class=\"card-title\"><strong>{{ post.title }}</strong></h5>\n                            <p class=\"card-text\">{{ smartTrim(post.content, 100) }}</p>\n                          </div>\n                        </v-card> -->\n                        <base-business-card\n                          :image_url=\"post.image_url\"\n                          :width=\"200\"\n                          :title=\"post.title\"\n                          :content=\"post.description\"\n                          :target=\"'/portfolio/' + post.id\"\n                          @loaded=\"$redrawVueMasonry('containerID')\"\n                        >\n                        </base-business-card>\n                      </v-col>\n                    </v-row>\n                  </v-container>\n                </v-card>\n              </v-col>\n            </v-row>\n          </div>\n        </v-responsive>\n      </v-container>\n    </v-img>\n  </section>\n</template>\n\n<script>\n  import {mapGetters, mapMutations, mapActions} from 'vuex'\n\n  export default {\n    name: 'SectionPortfolio',\n    provide: {\n      theme: { isDark: true },\n    },\n\n    data () {\n      return {\n        posts: [],\n        showVideoModal: false,\n        tags: [],\n        tags_selected: [],\n        mandatory: false,\n        multiple: true,\n        selected: null,\n        types: [\n          'cards',\n          'images',\n        ],\n        descriptionLimit: 60, // for autocomplete\n        entries: [],\n        type: 'cards',\n        chip_selection: [0],\n        isLoading: false,\n        model: null,\n        search: null,\n      }\n    },\n    created() {\n      if (this.posts.length === 0) {\n        let payload = {\n          param: {},\n          cb_res: (result) => {\n            this.posts = this.get_portfolio_list\n            this.tags = this.get_chip_list\n\n          },\n          cb_error: (error) => {}\n        }\n        this.$store.dispatch('portfolio/get_portfolio_overall_list', payload)\n      }\n    },\n    mounted() {\n      // window.addEventListener('scroll', this.handleScroll);\n      // this.getPosts()\n      this.$nextTick(() => {\n        this.$redrawVueMasonry('containerID')\n      })\n    },\n    computed: {\n      ...mapGetters('portfolio', [\n        'get_portfolio_list',\n        'get_chip_list'\n      ]),\n      minHeight () {\n        const height = this.$vuetify.breakpoint.mdAndUp ? '100vh' : '50vh'\n\n        return `calc(${height} - ${this.$vuetify.application.top}px)`\n      },\n      // fields () {\n      //   if (!this.model) return []\n      //\n      //   return Object.keys(this.model).map(key => {\n      //     return {\n      //       key,\n      //       value: this.model[key] || 'n/a',\n      //     }\n      //   })\n      // },\n      items () {\n        return this.entries.map(entry => {\n          const Description = entry.Description.length > this.descriptionLimit\n            ? entry.Description.slice(0, this.descriptionLimit) + '...'\n            : entry.Description\n\n          return Object.assign({}, entry, { Description })\n        })\n      },\n    },\n    watch: {\n      search (val) {\n        // Items have already been loaded\n        if (this.items.length > 0) return\n\n        // Items have already been requested\n        if (this.isLoading) return\n\n        this.isLoading = true\n\n        // Lazily load input items\n        fetch('https://api.publicapis.org/entries')\n          .then(res => res.json())\n          .then(res => {\n            const { count, entries } = res\n            this.count = count\n            this.entries = entries\n          })\n          .catch(err => {\n            console.log(err)\n          })\n          .finally(() => (this.isLoading = false))\n      },\n    },\n    methods: {\n      ...mapActions('portfolio', [\n          'get_portfolio_overall_list'\n      ]),\n      triggerMason() {\n        this.$redrawVueMasonry('containerID')\n        console.log('redraw Masonry')\n      },\n      getPosts() {\n      \tfor (var i = 0; i < 16; i++) {\n        \tthis.posts.push(\n            {\n              src: 'https://cdn.vuetifyjs.com/images/cards/mountain.jpg',\n              title: 'this is it',\n              content: 'beat it'\n            }\n          )\n        }\n      },\n      selectPost(ids) {\n\n      },\n      handleChipSelection() {\n        console.log(this.chip_selection)\n        if (this.chip_selection[this.chip_selection.length - 1] === 0) {\n          this.chip_selection = [0]\n        } else if (this.chip_selection.length > 1 && this.chip_selection.some(elm => elm === 0)) {\n          this.chip_selection.shift();\n        } else if(this.chip_selection.length === 0){\n          this.chip_selection.push(0)\n        }\n        if (this.chip_selection.length === 1 && this.chip_selection[0] === 0){\n          this.posts = this.get_portfolio_list\n        } else {\n          this.posts = this.get_portfolio_list.filter(\n            element => {\n              return element.business_category.some(bc => this.chip_selection.includes(bc))\n            }\n          )\n        }\n      },\n      handleSingleChip(model) {\n        console.log('single chip model: ', model)\n        console.log('last element: ', this.chip_selection[this.chip_selection.length - 1])\n      },\n      handleAutocomplete() {\n        console.log(this.model)\n        this.posts = this.get_portfolio_list.filter(element => element.id === this.model.id)\n      },\n      handleScroll() {\n        let scrollHeight = window.scrollY\n        let maxHeight = window.document.body.scrollHeight - window.document.documentElement.clientHeight\n\n        if (scrollHeight >= maxHeight - 200) {\n          this.getPosts()\n        }\n      },\n      smartTrim(string, maxLength) {\n        var trimmedString = string.substr(0, maxLength);\n  \t\t\treturn trimmedString.substr(0, Math.min(trimmedString.length, trimmedString.lastIndexOf(\" \")))\n      }\n    }\n  }\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Portfolio.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Portfolio.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Portfolio.vue?vue&type=template&id=72915d18&\"\nimport script from \"./Portfolio.vue?vue&type=script&lang=js&\"\nexport * from \"./Portfolio.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VChipGroup } from 'vuetify/lib/components/VChipGroup';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VResponsive } from 'vuetify/lib/components/VResponsive';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VAutocomplete,VCard,VCardText,VChip,VChipGroup,VCol,VContainer,VImg,VResponsive,VRow})\n"],"sourceRoot":""}